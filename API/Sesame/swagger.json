{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8081","description":"Generated server url"}],"security":[{"bearerAuth":[]}],"tags":[{"name":"Nature Question","description":"Operations related to Nature questions"},{"name":"Authentication","description":"Operations related to Authentication"},{"name":"Domaine question","description":"Operations related to domaine questions"},{"name":"Users","description":"Operations related to Admin"},{"name":"Messages","description":"Operations related to Messages"}],"paths":{"/users/{id}":{"get":{"tags":["Users"],"summary":"Get user by ID","operationId":"getUserById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"  User by ID","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}},"put":{"tags":["Users"],"summary":"Update user","operationId":"updateUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}},"required":true},"responses":{"200":{"description":"User modifier avec succée","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}},"delete":{"tags":["Users"],"summary":"Delete user","operationId":"deleteUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"User a été supprimer avec sucées"},"401":{"description":"Unauthorized"}}}},"/api/v1/auth/{reponseId}/vote":{"put":{"tags":["Authentication"],"summary":"Voter une Reponse de user a la question","operationId":"voteForReponse","parameters":[{"name":"reponseId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Reponse Votée"},"401":{"description":"Unauthorized"}},"security":[{"bearerAuth":[]}]}},"/api/v1/auth/notifications/{notificationId}":{"put":{"tags":["Authentication"],"summary":"faire vue a la notifcation","operationId":"markNotificationAsRead","parameters":[{"name":"notificationId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Vue","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Notification"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Notification"}}}}},"security":[{"bearerAuth":[]}]}},"/api/nature-questions/{id}":{"get":{"tags":["Nature Question"],"summary":"Récupérer une question de nature par son id","operationId":"getNatureQuestionById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":" une question de nature par son id avec suceés","content":{"*/*":{"schema":{"$ref":"#/components/schemas/NatureQuestion"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/NatureQuestion"}}}}}},"put":{"tags":["Nature Question"],"summary":"Mettre à jour une question de nature par son id","operationId":"updateNatureQuestion","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NatureQuestion"}}},"required":true},"responses":{"200":{"description":"une question de nature par son id Modifiée avec Succée","content":{"*/*":{"schema":{"$ref":"#/components/schemas/NatureQuestion"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/NatureQuestion"}}}}}},"delete":{"tags":["Nature Question"],"summary":"Supprimer une question de nature par son id","operationId":"deleteNatureQuestionById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"nature de Question a éte supprimer avec succées"},"401":{"description":"Unauthorized"}}}},"/api/domaine-questions/{id}":{"get":{"tags":["Domaine question"],"summary":"Get all DomaineQuestions BY ID","operationId":"getDomaineQuestionById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Domaine created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/DomaineQuestion"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/DomaineQuestion"}}}}}},"put":{"tags":["Domaine question"],"summary":"Modifier DomaineQuestions By ID","operationId":"updateDomaineQuestion","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DomaineQuestion"}}},"required":true},"responses":{"200":{"description":"Domaine Modifer avec Sucées","content":{"*/*":{"schema":{"$ref":"#/components/schemas/DomaineQuestion"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/DomaineQuestion"}}}}}},"delete":{"tags":["Domaine question"],"summary":"Delete a DomaineQuestion by ID","operationId":"deleteDomaineQuestion","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Deletes a DomaineQuestion object by its ID"},"401":{"description":"Unauthorized"}}}},"/api/v1/auth/register":{"post":{"tags":["Authentication"],"summary":"Inscription USER","operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"200":{"description":"User created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthenticationResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthenticationResponse"}}}}},"security":[{"bearerAuth":[]}]}},"/api/v1/auth/questions":{"post":{"tags":["Authentication"],"summary":"Add a new question","operationId":"addQuestion","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Question"}}},"required":true},"responses":{"200":{"description":"Question created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}},"security":[{"bearerAuth":[]}]}},"/api/v1/auth/questions/{questionId}/reponses":{"post":{"tags":["Authentication"],"summary":"Add a  new reponses","operationId":"addReponse","parameters":[{"name":"questionId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Reponse"}}},"required":true},"responses":{"200":{"description":"Reponse ajouter avec succées","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}},"security":[{"bearerAuth":[]}]}},"/api/v1/auth/authenticate":{"post":{"tags":["Authentication"],"summary":"login user ","operationId":"authenticate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthenticationRequest"}}},"required":true},"responses":{"200":{"description":"User authetifier avec succées","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthenticationResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthenticationResponse"}}}}},"security":[{"bearerAuth":[]}]}},"/api/questions":{"get":{"tags":["question-controller"],"operationId":"consulterQuestions","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Question"}}}}}}},"post":{"tags":["question-controller"],"operationId":"poserQuestion","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Question"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Question"}}}}}}},"/api/questions/{questionId}/reponses":{"get":{"tags":["question-controller"],"operationId":"consulterReponses","parameters":[{"name":"questionId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Reponse"}}}}}}},"post":{"tags":["question-controller"],"operationId":"repondreQuestion","parameters":[{"name":"questionId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Reponse"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Reponse"}}}}}}},"/api/notifications/{notificationId}/lire":{"post":{"tags":["notification-controller"],"operationId":"marquerCommeLu","parameters":[{"name":"notificationId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/nature-questions":{"get":{"tags":["Nature Question"],"summary":"Récupérer toutes les questions de nature","operationId":"getAllNatureQuestions","responses":{"200":{"description":"All NatureQuestion","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/NatureQuestion"}}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/NatureQuestion"}}}}}}},"post":{"tags":["Nature Question"],"summary":"Créer une question de nature ","operationId":"createNatureQuestion","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NatureQuestion"}}},"required":true},"responses":{"200":{"description":"Nature Question Created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/NatureQuestion"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/NatureQuestion"}}}}}}},"/api/messages":{"get":{"tags":["Messages"],"summary":"Get all Messages","operationId":"getMessages","responses":{"200":{"description":"Messages avec user connectée","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MessageDto"}}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MessageDto"}}}}}}},"post":{"tags":["Messages"],"summary":"Send Message","operationId":"sendMessage","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageDto"}}},"required":true},"responses":{"200":{"description":"Message created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MessageDto"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MessageDto"}}}}}}},"/api/domaine-questions":{"get":{"tags":["Domaine question"],"summary":"Get all DomaineQuestions","operationId":"getAllDomaineQuestions","responses":{"200":{"description":"All Domaine","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DomaineQuestion"}}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DomaineQuestion"}}}}}}},"post":{"tags":["Domaine question"],"summary":"Creé  DomaineQuestions","operationId":"createDomaineQuestion","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DomaineQuestion"}}},"required":true},"responses":{"200":{"description":"Domaine created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/DomaineQuestion"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/DomaineQuestion"}}}}}}},"/users/":{"get":{"tags":["Users"],"summary":"Get all users","operationId":"getAllUsers","responses":{"200":{"description":"all users","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}}}}}},"/api/v1/auth/users/{userId}/meilleures-reponses":{"get":{"tags":["Authentication"],"summary":"Get all meilleures-reponses par User ","operationId":"getMeilleuresReponsesParUser","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"meilleures-reponses","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Reponse"}}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Reponse"}}}}}},"security":[{"bearerAuth":[]}]}},"/api/v1/auth/reponses/meilleures":{"get":{"tags":["Authentication"],"summary":"Get all meilleures-reponses pour tous les users  dans le base  ","operationId":"getMeilleuresReponsesTrieParVotes","responses":{"200":{"description":"meilleures-reponses pour tous les users ","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Reponse"}}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Reponse"}}}}}},"security":[{"bearerAuth":[]}]}},"/api/v1/auth/questions/{questionId}/classement":{"get":{"tags":["Authentication"],"summary":"Get all Classement Question par Vote ","operationId":"getReponsesTrieParVotes","parameters":[{"name":"questionId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Vote de question ","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Reponse"}}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Reponse"}}}}}},"security":[{"bearerAuth":[]}]}},"/api/v1/auth/questions-with-reponses":{"get":{"tags":["Authentication"],"summary":"Get all question avec reponses","operationId":"getAllQuestionsWithReponses","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/QuestionWithReponses"}}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/QuestionWithReponses"}}}}}},"security":[{"bearerAuth":[]}]}},"/api/v1/auth/notifications":{"get":{"tags":["Authentication"],"summary":"Get all notification par user ","operationId":"getNotifications","responses":{"200":{"description":"all notification","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Notification"}}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Notification"}}}}}},"security":[{"bearerAuth":[]}]}},"/api/v1/auth/current-user":{"get":{"tags":["Authentication"],"summary":"Get user connecter actuel","operationId":"getCurrentUser","responses":{"200":{"description":"User connecteé","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}},"security":[{"bearerAuth":[]}]}},"/api/notifications":{"get":{"tags":["notification-controller"],"operationId":"consulterNotifications","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Notification"}}}}}}}},"/api/messages/{recipientUsername}":{"get":{"tags":["Messages"],"summary":"Get all Messages entre deux user spécifiques","operationId":"getMessagesWithRecipient","parameters":[{"name":"recipientUsername","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"all Messages entre deux user spécifiques","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MessageDto"}}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MessageDto"}}}}}}}}},"components":{"schemas":{"GrantedAuthority":{"type":"object","properties":{"authority":{"type":"string"}}},"User":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"firstname":{"type":"string"},"lastname":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"role":{"type":"string","enum":["ADMIN","ENSEIGNANT","ETUDIANT","USER"]},"enabled":{"type":"boolean"},"username":{"type":"string"},"authorities":{"type":"array","items":{"$ref":"#/components/schemas/GrantedAuthority"}},"accountNonExpired":{"type":"boolean"},"credentialsNonExpired":{"type":"boolean"},"accountNonLocked":{"type":"boolean"}}},"Notification":{"type":"object","properties":{"id_notification":{"type":"integer","format":"int64"},"message":{"type":"string"},"estLu":{"type":"boolean"},"creationDate":{"type":"string","format":"date-time"}}},"NatureQuestion":{"type":"object","properties":{"id_nature_question":{"type":"integer","format":"int64"},"nom_nature_question":{"type":"string"}}},"DomaineQuestion":{"type":"object","properties":{"id_domaine_question":{"type":"integer","format":"int64"},"nom_domaine_question":{"type":"string"}}},"RegisterRequest":{"type":"object","properties":{"firstname":{"type":"string"},"lastname":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"}}},"AuthenticationResponse":{"type":"object","properties":{"token":{"type":"string"}}},"Question":{"type":"object","properties":{"id_question":{"type":"integer","format":"int32"},"sujet":{"type":"string"},"contenu":{"type":"string"},"date":{"type":"string","format":"date-time"},"auteur":{"$ref":"#/components/schemas/User"},"nature":{"$ref":"#/components/schemas/NatureQuestion"},"domaine":{"$ref":"#/components/schemas/DomaineQuestion"},"answered":{"type":"boolean"}}},"Reponse":{"type":"object","properties":{"id_reponse":{"type":"integer","format":"int32"},"contenu":{"type":"string"},"dateCreation":{"type":"string","format":"date-time"},"vote_utilisateur":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}},"AuthenticationRequest":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"MessageDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"senderUsername":{"type":"string"},"recipientId":{"type":"integer","format":"int32"},"recipientUsername":{"type":"string"},"content":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}},"QuestionWithReponses":{"type":"object","properties":{"question":{"$ref":"#/components/schemas/Question"},"reponses":{"type":"array","items":{"$ref":"#/components/schemas/Reponse"}}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}